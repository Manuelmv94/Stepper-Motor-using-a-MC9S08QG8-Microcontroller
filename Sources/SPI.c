/*! **********************************************************************************************
* 2016  ITESM Campus Guadalajara. Laboratorio de Microcontroladores 
*  
*
* @file:      SPI.c
* @author(s): Manuel Madrigal Valenzuela; Efraín Duarte López
*
* @brief (Theory of Operation)
*     Pretty straight forward. It configures the SPI hardware and implements the transmission
*     functions.
*
**************************************************************************************************/


/*************************************************************************************************/
/*********************                 Includes                **********************/
/*************************************************************************************************/
#include "SPI.h" 

/*************************************************************************************************/
/*********************                 Defines                    **********************/
/*************************************************************************************************/

/*************************************************************************************************/
/*********************                 Typedefs                **********************/
/*************************************************************************************************/

/*************************************************************************************************/
/*********************              Function Prototypes              **********************/
/*************************************************************************************************/

/*************************************************************************************************/
/*********************                  Static Variables                    **********************/
/*************************************************************************************************/

/*************************************************************************************************/
/*********************              Global Variables              **********************/
/*************************************************************************************************/

/*************************************************************************************************/
/*********************                  Static Constants                    **********************/
/*************************************************************************************************/

/*************************************************************************************************/
/*********************                  Global Constants                    **********************/
/*************************************************************************************************/

/*************************************************************************************************/
/*********************              Exported Functions               **********************/
/*************************************************************************************************/

void SPI_Init(void)
{
   SPI_SystemEnable();
   SPI_SetMasterMode();
   SPI_SetClockPolarity(SPI_CLOCK_POL);
   SPI_SetClockPhase(SPI_CLOCK_PHA);
   SPI_SetShifterDirection(SPI_SHIFT_DIR);
   SPI_DisableMISO();
   SPI_SetBaudRatePrescaler(SPI_BR_PS);
   SPI_SetBaudRateDivisor(SPI_BR_DIV);
}

bool SPI_TxIsBusy(void)
{
   return !SPI_SPTEF_isSet();
}

void SPI_SendData(char data)
{
   SPID=data;
}


//-------------------------------------------------------------------------------------------------


/*************************************************************************************************/
/*********************               Private Functions               **********************/
/*************************************************************************************************/

